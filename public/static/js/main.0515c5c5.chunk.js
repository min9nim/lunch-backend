(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t){function n(e){return new n.fn.init(e)}e.exports=n,n.fn={init:function(e){"string"===typeof e?(this.sel=e,this.doms=document.querySelectorAll(e),this.length=this.doms.length):e instanceof n.fn.init?(this.sel=e.sel,this.doms=e.doms,this.length=e.length):e instanceof Node?(this.doms=[e],this.length=1):e[0]instanceof Node&&(this.doms=e,this.length=e.length),1===this.length&&(this.dom=this.doms[0])},html:function(e){if(0!==this.length)return void 0===e?this.doms[0].innerHTML:(n._each(this.doms,function(t){t.innerHTML=e}),this)},text:function(e){if(0!==this.length)return void 0===e?this.doms[0].textContent:(n._each(this.doms,function(t){t.textContent=e}),this)},css:function(e,t){if(0!==this.length){if(void 0===t)return this.doms[0].style[e];if("number"===typeof t){["left","top","right","bottom","width","height"].indexOf(e)>=0&&(t+="px")}return n._each(this.doms,function(n){n.style[e]=t}),this}},position:function(){if(0!==this.length){var e=this.doms[0].style.top;e=Number(e.substring(0,e.length-2));var t=this.doms[0].style.left;return{top:e,left:t=Number(t.substring(0,t.length-2))}}},parent:function(e,t){if(0!==this.length){if(void 0===t)t=this.doms[0];else if("BODY"===t.tagName)return;if(void 0===e)return t.parentNode;if("#"===e[0]);else if("."!==e[0])return t.parentNode.tagName===e.toUpperCase()?t.parentNode:this.parent(e,t.parentNode)}},animate:function(){},bind:function(){},attr:function(e,t){if(0!==this.length)return void 0===t?this.doms[0].getAttribute(e):(n._each(this.doms,function(n){n.setAttribute(e,t)}),this)},removeAttr:function(e){if(0!==this.length)return n._each(this.doms,function(t){t.removeAttribute(e)}),this},addClass:function(e){return n._each(this.doms,function(t){var n=t.getAttribute("class");n=null===n?e:n+" "+e,t.setAttribute("class",n)}),this},removeClass:function(e){return n._each(this.doms,function(t){var n=t.getAttribute("class");if(null===n)return this;var a=n.split(" "),r=a.indexOf(e);r<0||(a.splice(r,1),t.setAttribute("class",a.join(" ")))}),this},each:function(e){return n._each(this.doms,function(t,n,a){e.call(t,t,n,a)}),this},remove:function(){n._each(this.doms,function(e){e.parentNode.removeChild(e)})},append:function(e){return n._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.appendChild(n.clone(e))}),this},prepend:function(e){return n._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.insertBefore(n.clone(e),t.firstChild)}),this},show:function(){return n._each(this.doms,function(e){e.style.display="block"}),this},hide:function(){return n._each(this.doms,function(e){e.style.display="none"}),this},val:function(e){if(0!==this.length)return void 0===e?this.doms[0].value:(n._each(this.doms,function(t){t.value=e}),this)},focus:function(){0!==this.length&&this.doms[0].focus()}},n.fn.init.prototype=n.fn,n.clone=function(e){var t;if("string"===typeof e){var n=document.createElement("div");n.innerHTML=e,t=n.firstChild}else t=e.cloneNode(!0);return t},n.scrollTo=function(e,t){return window.scrollTo(e,t)},n.html=function(e,t){return n(e).html(t)},n.css=function(e,t,a){return n(e).css(t,a)},n.val=function(e,t){return n(e).val(t)},n.show=function(e){return n(e).show()},n.hide=function(e){return n(e).hide()},n._curry=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(t,n)}}},n._curryr=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(n,t)}}},n._each=n._curryr(function(e,t){if("object"!==typeof e||!e)return[];for(var n=Object.keys(e),a=0;a<n.length;a++)t(e[n[a]],n[a],e);return e}),n._map=n._curryr(function(e,t){var a=[];return n._each(e,function(e,n,r){a.push(t(e,n,r))}),a}),n._filter=n._curryr(function(e,t){var a=[];return n._each(e,function(e,n,r){t(e,n,r)&&a.push(e)}),a}),n._reduce=function(e,t,a){var r=a;return void 0===a&&(r=e&&e[0],e=e&&e.slice(1)),n._each(e,function(e,n,a){r=t(e,r,n,a)}),r},n._slice=function(e,t,n){return"number"===typeof arguments[0]?(t=arguments[0],n=arguments[1],function(e){return Array.prototype.slice.call(e,t,n)}):Array.prototype.slice.call(e,t,n)},n._join=n._curryr(function(e,t){return Array.prototype.join.call(e,t)}),n._split=n._curryr(function(e,t){return String.prototype.split.call(e,t)}),n._go=function(){var e=arguments,t=n._slice(e,1);return n._pipe(t)(e[0])},n._pipe=function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return function(){return n._reduce(e,function(e,t,n,a){return e(t)},arguments[0])}},n._find=n._curryr(function(e,t){if("object"===typeof e&&e)for(var n=Object.keys(e),a=0;a<n.length;a++)if(t(e[n[a]],n[a],e))return e[n[a]]}),n._findIndex=n._curryr(function(e,t){if("object"===typeof e&&e)for(var n=Object.keys(e),a=0;a<n.length;a++)if(t(e[n[a]],n[a],e))return n[a]}),n.removeTag=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},22:function(e,t,n){e.exports=n(39)},27:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),o=n.n(s),i=(n(27),n(41)),c=n(42),l=n(5),u=n(6),h=n(8),d=n(7),m=n(9),f=n(43),p=n(10),g=n(40),v=(n(29),n(11)),b=n.n(v),y=n(12),E=n(18),w=n.n(E),C=n(19),j=n.n(C);console.log("lunch.js start");var O={view:{},state:{data:[],view:{selected:""}}},N=O,_=function(){var e=Object(y.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/list",{method:"GET"});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:n=e.sent,O.state.data=n.lunchs,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),O.state.data=[];case 13:O.view.List&&O.view.List.setState({data:O.state.data});case 14:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}();O.bodyScroll=function(){if("List"===O.thispage){var e=Math.max(document.documentElement.scrollTop,document.body.scrollTop);if(O.scrollTop=e,!O.isScrollLast){var t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=document.documentElement.clientHeight;console.log("scrollTop : "+e),console.log("clientHeight : "+n),console.log("scrollHeight : "+t),(e+n===t||O.isMobileChrome()&&e+n===t-56)&&(w.a.start(),j()("#nprogress .spinner").css("top","95%"),O.api.getPosts({idx:O.store.getState().data.posts.filter(function(e){return void 0===e.origin}).length,cnt:10,search:O.store.getState().view.search,hideProgress:!0,context:O.context}).then(function(e){if(O.store.dispatch(O.action.scrollEnd(e.posts)),e.posts.length<10)return console.log("Scroll has touched bottom"),void(O.isScrollLast=!0)}))}}},O.checkStatus=function(e){return"Success"===e.status?e:(O.alert({message:e.message,style:"danger",width:"200px"}),new Promise(function(t,n){n(new Error(e.message))}))},O.setCookie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},O.getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},O.isDesktop=function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},O.isMobileChrome=function(){return!O.isDesktop()&&navigator.userAgent.includes("Chrome")},O.highlight=function(e,t){if(t){var n=new RegExp("("+t+")","gi");e=e.replace(n,'<span style="background-color:yellow;">$1</span>')}return e},O.asyncComponent=function(e,t){return function(n){function a(e){var n;return Object(l.a)(this,a),(n=Object(h.a)(this,Object(d.a)(a).call(this,e))).state={Component:O.asyncCache[t]},n}return Object(m.a)(a,n),Object(u.a)(a,[{key:"componentWillMount",value:function(){var n=this;this.state.Component?console.log("## app.asyncCache[".concat(t,"] used")):e().then(function(e){O.asyncCache[t]=e.default,n.setState({Component:e.default})})}},{key:"render",value:function(){var e=this.state.Component;return e?r.a.createElement(e,this.props):r.a.createElement("div",null,r.a.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.. [",t,"]")}}]),a}(r.a.Component)},O.alert=function(e){var t=e.message,n=e.style,a=e.width,r=e.onClose;"string"===typeof arguments[0]?O.view.AlertDismissable.handleShow({message:arguments[0]}):O.view.AlertDismissable.handleShow({message:t,style:n,width:a,onClose:r})},O.confirm=function(e){var t=e.message,n=e.style,a=e.width,r=e.onYes,s=e.onNo;O.view.Confirm.handleShow({message:t,style:n,width:a,onYes:r,onNo:s})},O.init=function(){0===O.state.data.length&&_()},O.init(),window.app=O;var k=function(e){function t(e){var n;return Object(l.a)(this,t),console.log("List \uc0dd\uc131\uc790 \ud638\ucd9c"),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={data:N.state.data},N.view.List=Object(p.a)(Object(p.a)(n)),N.state.view.selected=void 0,n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"edit",value:function(e){N.state.view.selected=e.target.parentNode.getAttribute("seq"),this.props.history.push("/write")}},{key:"render",value:function(){var e=this;return console.log("length : "+N.state.data.length),r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"\uba54\ub274"),r.a.createElement("th",{scope:"col"},"\uc2dd\ub2f9\uba85"),r.a.createElement("th",{scope:"col"},"\uc704\uce58"),r.a.createElement("th",{scope:"col"},"\ucd5c\uc885\ubc29\ubb38"),r.a.createElement("th",{scope:"col"},"\ube44\uace0"))),r.a.createElement("tbody",null,this.state.data.length>0?this.state.data.map(function(t,n){return r.a.createElement("tr",{key:t.seq,seq:t.seq,onClick:e.edit.bind(e)},r.a.createElement("th",{scope:"row"},n+1),r.a.createElement("td",null,t.menu),r.a.createElement("td",null,t.restaurant),r.a.createElement("td",null,t.location),r.a.createElement("td",null,t.lastVisited&&t.lastVisited.substr(0,4)+"/"+t.lastVisited.substr(4,2)+"/"+t.lastVisited.substr(6,2)),r.a.createElement("td",null,t.etc))}):r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"6"},"No data")))),r.a.createElement(g.a,{to:"/write"},r.a.createElement("button",{type:"button",className:"btn btn-success"},"\ub4f1\ub85d")))}}]),t}(a.Component),x=n(20),S=n.n(x),T=(n(36),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n.state=n.props.selected||{menu:"",restaurant:"",location:"",lastVisited:S()().format("YYYYMMDD"),etc:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t)}},{key:"save",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n,a,r=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.menu){e.next=3;break}return alert("\uba54\ub274\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 3:return e.next=5,fetch("/api/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(this.state)});case 5:return t=e.sent,e.prev=6,e.next=9,t.json();case 9:n=e.sent,console.log(JSON.stringify(n,null,2)),this.props.selected?(a=N.state.data.find(function(e){return e.seq===r.props.selected.seq}),Object.assign(a,this.state)):N.state.data.push(Object.assign({},this.state,{seq:N.state.data.length})),this.props.history.push("/list"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log("\ub4f1\ub85d \uc624\ub958");case 18:case"end":return e.stop()}},e,this,[[6,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\uc0ad\uc81c\ud569\ub2c8\ub2e4")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/remove",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({seq:this.state.seq})});case 4:return t=e.sent,e.prev=5,e.next=8,t.json();case 8:n=e.sent,console.log(JSON.stringify(n,null,2)),a=N.state.data.indexOf(this.props.selected),N.state.data.splice(a,1),this.props.history.push("/list"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("\ub4f1\ub85d \uc624\ub958");case 18:case"end":return e.stop()}},e,this,[[5,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"menu"},"\uba54\ub274"),r.a.createElement("input",{type:"text",className:"form-control",id:"menu",placeholder:"\uba54\ub274",value:this.state.menu,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restaurant"},"\uc2dd\ub2f9\uc774\ub984"),r.a.createElement("input",{type:"text",className:"form-control",id:"restaurant",placeholder:"\uc2dd\ub2f9\uc774\ub984",value:this.state.restaurant,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"\uc704\uce58"),r.a.createElement("input",{type:"text",className:"form-control",id:"location",placeholder:"\uc704\uce58",value:this.state.location,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"\ucd5c\uc885\ubc29\ubb38"),r.a.createElement("input",{type:"text",className:"form-control",id:"lastVisited",placeholder:"\ucd5c\uc885\ubc29\ubb38\uc77c",value:this.state.lastVisited,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"etc"},"\ube44\uace0"),r.a.createElement("input",{type:"text",className:"form-control",id:"etc",placeholder:"\ube44\uace0",value:this.state.etc,onChange:this.handleChange})),r.a.createElement(g.a,{to:"/list"},r.a.createElement("button",{type:"button",className:"btn btn-success"},"\ubaa9\ub85d")),this.props.selected?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.save.bind(this)},"\uc218\uc815"),r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.remove.bind(this)},"\uc0ad\uc81c")):r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.save.bind(this)},"\uc800\uc7a5"))}}]),t}(a.Component)),A=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=function(e){var t=e.history,n=e.match;return r.a.createElement(k,{history:t,match:n})};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"\uc624\ub298 \uc810\uc2ec \ubb50 \uba39\uc744\uae4c")),r.a.createElement("div",{className:"container"},r.a.createElement(f.a,null,r.a.createElement(c.a,{path:"/list",render:e}),r.a.createElement(c.a,{path:"/write",render:function(e){var t=e.history,n=e.match;return r.a.createElement(T,{history:t,match:n,selected:N.state.data.find(function(e){return e.seq===N.state.view.selected})})}}),r.a.createElement(c.a,{path:"/",render:e}))))}}]),t}(a.Component),L=function(){return r.a.createElement(i.a,null,r.a.createElement(c.a,{path:"/",component:A}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.0515c5c5.chunk.js.map