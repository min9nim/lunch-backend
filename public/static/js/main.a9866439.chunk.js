(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){},134:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(32),c=a.n(r),i=(a(77),a(139)),o=a(140),l=a(10),u=a(11),m=a(13),h=a(12),d=a(14),p=a(141),f=a(6),v=a.n(f),b=a(15),g=a(7),y=a(138);a(81);function E(e){return s.a.createElement("div",{className:"list-div"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"flex-container"},s.a.createElement("div",{className:"col1"},"#"),s.a.createElement("div",{className:"col2"},"\uba54\ub274"),s.a.createElement("div",{className:"col3"},"\uc2dd\ub2f9\uba85"),s.a.createElement("div",{className:"col4"},"\uc704\uce58"),s.a.createElement("div",{className:"col5"},"\ucd5c\uc885\ubc29\ubb38"),s.a.createElement("div",{className:"col6"},"\ube44\uace0"))),s.a.createElement("div",{className:"body"},e.list.map(function(t,a){return s.a.createElement("div",{key:t.seq,className:"flex-container",seq:t.seq,onClick:e.edit},s.a.createElement("div",{className:"col1"},a+1),s.a.createElement("div",{className:"col2"},t.menu),s.a.createElement("div",{className:"col3"},t.restaurant),s.a.createElement("div",{className:"col4"},t.location),s.a.createElement("div",{className:"col5"},t.lastVisited&&t.lastVisited.substr(2,2)+"/"+t.lastVisited.substr(4,2)+"/"+t.lastVisited.substr(6,2)),s.a.createElement("div",{className:"col6"},t.etc))})),s.a.createElement("div",{className:"btn"},s.a.createElement(y.a,{to:"/write"},s.a.createElement("button",{type:"button",className:"btn btn-success"},"\ub4f1\ub85d"))))}var w=a(18);console.log("app.js start");var O={view:{},state:{data:[],view:{selected:""}}},N=O;Object(w.b)(O,{state:w.c}),Object(w.a)(function(){O.state.data.length>0&&O.view.List&&O.view.List.forceUpdate()});var j=function(){var e=Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/list",{method:"GET"});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:a=e.sent,O.state.data=a.lunchs,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("\u3147\u3155\uae30??"),O.state.data=[];case 14:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}();O.checkStatus=function(e){return"Success"===e.status?e:(O.alert({message:e.message,style:"danger",width:"200px"}),new Promise(function(t,a){a(new Error(e.message))}))},O.setCookie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"},O.getCookie=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""},O.isDesktop=function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},O.isMobileChrome=function(){return!O.isDesktop()&&navigator.userAgent.includes("Chrome")},O.asyncComponent=function(e,t){return function(a){function n(e){var a;return Object(l.a)(this,n),(a=Object(m.a)(this,Object(h.a)(n).call(this,e))).state={Component:O.asyncCache[t]},a}return Object(d.a)(n,a),Object(u.a)(n,[{key:"componentWillMount",value:function(){var a=this;this.state.Component?console.log("## app.asyncCache[".concat(t,"] used")):e().then(function(e){O.asyncCache[t]=e.default,a.setState({Component:e.default})})}},{key:"render",value:function(){var e=this.state.Component;return e?s.a.createElement(e,this.props):s.a.createElement("div",null,s.a.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.. [",t,"]")}}]),n}(s.a.Component)},O.alert=function(e){var t=e.message,a=e.style,n=e.width,s=e.onClose;"string"===typeof arguments[0]?O.view.AlertDismissable.handleShow({message:arguments[0]}):O.view.AlertDismissable.handleShow({message:t,style:a,width:n,onClose:s})},O.confirm=function(e){var t=e.message,a=e.style,n=e.width,s=e.onYes,r=e.onNo;O.view.Confirm.handleShow({message:t,style:a,width:n,onYes:s,onNo:r})},O.init=function(){0===O.state.data.length&&j()},O.init(),window.app=O;a(86);function k(e){return new Promise(function(t){setTimeout(t,e)})}var C=function(e){function t(e){var a;return Object(l.a)(this,t),console.log("List \uc0dd\uc131\uc790 \ud638\ucd9c"),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),N.view.List=Object(g.a)(Object(g.a)(a)),N.state.view.selected=void 0,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"edit",value:function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N.state.view.selected=t.target.parentNode.getAttribute("seq"),null!==N.state.view.selected){e.next=3;break}return e.abrupt("return");case 3:return t.target.parentNode.style.backgroundColor="#eaeaea",e.next=6,k(100);case 6:this.props.history.push("/write");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("length : "+N.state.data.length),s.a.createElement(E,{list:N.state.data,edit:this.edit.bind(this)})}}]),t}(n.Component),x=a(71),S=a(3),Y=a.n(S),D=(a(130),a(132),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a.state=a.props.selected||{menu:"",restaurant:"",location:"",lastVisited:Y()().format("YYYYMMDD"),etc:""},Object(w.b)(Object(g.a)(Object(g.a)(a)),{state:w.c}),Object(w.d)(function(){return JSON.stringify(a.state)},function(e){a.forceUpdate()}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.state[e.target.id]=e.target.value}},{key:"dateSelected",value:function(e){this.state.lastVisited=e.format("YYYYMMDD")}},{key:"save",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.menu){e.next=3;break}return alert("\uba54\ub274\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 3:return e.next=5,fetch("/api/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(this.state)});case 5:return t=e.sent,e.prev=6,e.next=9,t.json();case 9:a=e.sent,N.state.data.push(Object.assign({},this.state,{seq:a.output.seq})),alert("\uc800\uc7a5 \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),this.props.history.push("/list"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log("\ub4f1\ub85d \uc624\ub958");case 18:case"end":return e.stop()}},e,this,[[6,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"edit",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t,a,n,s=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.menu){e.next=3;break}return alert("\uba54\ub274\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 3:return e.next=5,fetch("/api/edit",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(this.state)});case 5:return t=e.sent,e.prev=6,e.next=9,t.json();case 9:a=e.sent,console.log(JSON.stringify(a,null,2)),n=N.state.data.find(function(e){return e.seq===s.props.selected.seq}),Object.assign(n,this.state),alert("\uc800\uc7a5 \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),this.props.history.push("/list"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("\uc218\uc815 \uc624\ub958");case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t,a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\uc0ad\uc81c\ud569\ub2c8\ub2e4")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/remove",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({seq:this.state.seq})});case 4:return t=e.sent,e.prev=5,e.next=8,t.json();case 8:a=e.sent,console.log(JSON.stringify(a,null,2)),n=N.state.data.indexOf(this.props.selected),N.state.data.splice(n,1),this.props.history.push("/list"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("\ub4f1\ub85d \uc624\ub958");case 18:case"end":return e.stop()}},e,this,[[5,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.ipt_menu.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"menu"},"\uba54\ub274"),s.a.createElement("input",{type:"text",className:"form-control",id:"menu",ref:function(t){return e.ipt_menu=t},placeholder:"\uba54\ub274",value:this.state.menu,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"restaurant"},"\uc2dd\ub2f9\uc774\ub984"),s.a.createElement("input",{type:"text",className:"form-control",id:"restaurant",placeholder:"\uc2dd\ub2f9\uc774\ub984",value:this.state.restaurant,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"location"},"\uc704\uce58"),s.a.createElement("input",{type:"text",className:"form-control",id:"location",placeholder:"\uc704\uce58",value:this.state.location,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"location"},"\ucd5c\uc885\ubc29\ubb38"),s.a.createElement(x.a,{dateFormat:"YYYY/MM/DD",selected:Y()(this.state.lastVisited||"20180101","YYYYMMDD"),onChange:this.dateSelected.bind(this)})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"etc"},"\ube44\uace0"),s.a.createElement("input",{type:"text",className:"form-control",id:"etc",placeholder:"\ube44\uace0",value:this.state.etc,onChange:this.handleChange})),s.a.createElement(y.a,{to:"/list"},s.a.createElement("button",{type:"button",className:"btn btn-success"},"\ubaa9\ub85d")),this.props.selected?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.edit.bind(this)},"\uc800\uc7a5"),s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.remove.bind(this)},"\uc0ad\uc81c")):s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.save.bind(this)},"\uc800\uc7a5"))}}]),t}(n.Component)),q=(a(134),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=function(e){var t=e.history,a=e.match;return s.a.createElement(C,{history:t,match:a})};return s.a.createElement("div",{className:"container-fluid app"},s.a.createElement("div",{className:"container-fluid header"},s.a.createElement("h4",null,"\uc624\ub298 \uc810\uc2ec \ubb50 \uba39\uc744\uae4c")),s.a.createElement("div",{className:"container-fluid body"},s.a.createElement(p.a,null,s.a.createElement(o.a,{path:"/list",render:e}),s.a.createElement(o.a,{path:"/write",render:function(e){var t=e.history,a=e.match;return s.a.createElement(D,{history:t,match:a,selected:N.state.data.find(function(e){return e.seq===N.state.view.selected})})}}),s.a.createElement(o.a,{path:"/",render:e}))))}}]),t}(n.Component)),M=function(e){return s.a.createElement(i.a,null,s.a.createElement(o.a,{path:"/",component:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,a){e.exports=a(137)},77:function(e,t,a){},81:function(e,t,a){},86:function(e,t,a){}},[[72,2,1]]]);
//# sourceMappingURL=main.a9866439.chunk.js.map